
find . -type f -name "*${old}" -execdir sh -c \
'x={}; mv $x $(echo $x | sed 's/${old}/${new}/g')'

echo просто выводит значение, хранящееся в x.

Из результатов этой команды мы передаем строку в команду sed.

В скриптах Linux sed обычно используется с файлами, но на самом деле sed можно использовать как с файлами, так и со строками. С результатами первой команды мы можем манипулировать строкой.

Эта команда sed заменяет все вхождения java на groovy. Несколько моментов: sed использует
вышеупомянутое регулярное выражение между '/', поэтому, если вам нужен шаблон строки вместо
одной строки, обязательно экранируйте специальные символы регулярных выражений. Еще один момент: будьте осторожны со
строками, содержащими '/', их тоже нужно экранировать.

